<launch>
	<!-- DRONE 1 - IP: 192.168.1.11 with namespace drone1 -->
	<group ns="drone2">		
		<!-- Launching the Ardrone driver from TUM_ARDRONE package -->
		<include file="$(find tum_ardrone)/launch/ardrone_driver.launch">
			<arg name="droneip" value="192.168.1.11" />
		</include>

		<!-- Launches the keyboard controller -->
		<!--<include file="$(find tum_ardrone)/launch/tum_ardrone.launch" />-->	
		<!-- Launches the keyboard controller -->
  		<node name="drone_gui" pkg="tum_ardrone" type="drone_gui"/>

		<!-- Launching the april tags detection node -->
		<node name="april_tags" pkg="task3_opencv" type="april_tags"/>
		
		<!-- Launching the filter tag detection node -->
		<node name="tag_filter" pkg="task3_opencv" type="tag_filter" launch-prefix="xterm -e"/>
		
		<!-- Launching the the PID controller with parameter renaming if needed and with the tuning parameters -->

		<!-- Pitch PID -->
		<node name="front_pid" pkg="pid" type="controller" >
			      <param name="Kp" value="0.1" />
			      <param name="Ki" value="0.0" />
			      <param name="Kd" value="0.0" />
			      <param name="upper_limit" value="0.5" />
			      <param name="lower_limit" value="-0.5" />
			      <param name="windup_limit" value="1" />
			      <param name="diagnostic_period" value="0.25" />
			      <param name="max_loop_frequency" value="100.0" />
			      <param name="min_loop_frequency" value="100.0" />
    		</node>

		<!-- Converting control effort to the drone itself -->
		<node name="pid2plant_frontcontroller" pkg="task3_opencv" type="pid2plant_frontcontroller.py" launch-prefix="xterm -e"/>
	</group>
</launch>
